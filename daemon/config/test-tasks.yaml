---
servergroups:
  web:
    - host: localhost
      username: "vagrant"
      password: "vagrant"
      port: 2222
tasks:
  sayhello:
    steps:
      - command: "echo"
        args:
        - "hello"
  mailhello:
    steps:
      - plugin: "mailgun"
        args:
          - "testdummy@creativenucleus.com"
          - "Hello"
          - "Just a test to say hello!"
  deploy:
    steps:
      - command: "echo"
        args:
        - "deploying..."
      - plugin: "env"
      - command: "echo"
        args:
        - "- mid deploy -"
      - command: "echo"
        args:
        - "deployed!"
      - plugin: "ping"
        options:
          count: 3
          url: www.golang.org
  raiseerror:
    steps:
      - command: "echo"
        args:
        - "raise error"
      - command: "test"
        args:
        - "this should break"
triggers:
  testwebhook:
    type: webhook
    endpoint: prod
    servergroup: localhost
    task: sayhello
  gitpush:
    type: github-webhook
    endpoint: gitpush
    secret: mygithubsecrethere
    servergroup: localhost
    task: sayhello
  monitor:
    type: periodic
    period: 600
    servergroup: localhost
    task: sayhello
interfaces:
  web:
    settings:
      folder: /gokiss
      port: 20000
      sessionsecret: eIvObvXEiCzUZ61doiOX
    users:
      - username: james
        password: letmein
      - username: tobias
        password: sesame